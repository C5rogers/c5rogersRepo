<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login page</title>
    <link rel="stylesheet" href="stylesheet/stylesheet.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Climate+Crisis&family=Courgette&family=Zeyada&display=swap" rel="stylesheet">
</head>

<body>
    <div class="form-container">
        <fieldset>
            <legend>Log In</legend>
            <form action="#" method="POST">
                <div class="form-cont">
                    <label for="email" class="label">Email:</label>
                    <div class="cont">
                        <i><img src="image/email.png" alt=""></i>
                        <input type="email" name="email" placeholder="Email" class="input">
                    </div>
                </div>
                <div class="form-cont">
                    <label for="password">Passwrod:</label>
                    <div class="cont">
                        <i><img src="image/password.png" alt=""></i>
                        <input type="password" placeholder="Password" name="password" class="password1 input">
                        <p class="count count-character"></p>
                        <button class="visiblility1 eye-button"><img src="image/visible.png" alt=""></button>
                    </div>
                </div>
                <div class="form-cont">
                    <a href="signup.html">I don't have account</a>
                </div>
                <div class="form-cont">
                    <div class="button">
                        <input type="reset" name="reset" value="Reset">
                    </div>
                    <div class="button">
                        <input type="submit" name="login" value="Login">
                    </div>
                </div>
            </form>
        </fieldset>
    </div>
    <script>
        var passwordLine = document.querySelector(".password1");
        var parag = document.querySelector('.count');

        // this will manipulate the input filds according to the number of character they have
        var manipulate = function(length) {
            var password = document.querySelector(".password1");
            if (length == 0) {
                password.style.border = "solid 1px red";
                parag.textContent = "";
            } else if (length < 6) {
                password.style.border = "solid 1px red";
                parag.style.color = "red";
                parag.textContent = "*week!";
            } else if (length < 12) {
                parag.style.color = "rgb(211, 132, 41)";
                parag.textContent = "*medium!";
                password.style.border = "solid 1px rgb(211, 132, 41)";
            } else if (length < 20) {
                parag.style.color = "green";
                parag.textContent = "*strong!";
                password.style.border = "solid 1px green";
            } else {
                parag.style.color = "gray";
                parag.textContent = "*enough!";
                password.style.border = "solid 1px transparent";
            }
        }

        // this will togle the input fild type to password and text fild to make it visible and not visible to the user
        var toogle = function(input) {
            var status = 0;
            var type = input.getAttribute("type") === "password" ? "text" : "password";
            if (type == "text") {
                status = 1
            }
            input.setAttribute("type", type);
            return status;
        }

        // this will prevent normal submission to the server 
        var form = document.querySelector("form");
        form.addEventListener("submit", function(e) {
            if (e.submitter.classList.contains("eye-button")) {
                e.preventDefault();
            }
        });

        // this will add eventlistener to the password button visiblility options
        var button = document.querySelector(".visiblility1");
        button.addEventListener("click", function() {
            var input = document.querySelector(".password1");
            var status = toogle(input);
            if (status == 1) {
                button.innerHTML = "<img src='image/prevent.png' alt=''>";
            } else {
                button.innerHTML = "<img src='image/visible.png' alt=''>";
            }
        });

        // this will add event listener to the input fild to count and call the manipulation function in javascript this will happen when the user input
        passwordLine.addEventListener("input", function(e) {
            if (parag.textContent = "0") {
                parag.textContent = "";
            }
            var length = this.value.length;
            manipulate(length);
        });
    </script>
</body>

</html>