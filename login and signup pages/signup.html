<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signup page</title>
    <link rel="stylesheet" href="stylesheet/stylesheet.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Climate+Crisis&family=Courgette&family=Zeyada&display=swap" rel="stylesheet">
    <script src="javascript/script.js"></script>
</head>

<body>
    <div class="form-container">
        <fieldset>
            <legend>Sing In</legend>
            <form action="#" method="POST" enctype="multipart/form-data">
                <div class="form-cont">
                    <label for="userName" class="label">User Name:</label>
                    <div class="cont">
                        <i><img src="image/user-profile.png" alt=""></i>
                        <input type="text" name="name" placeholder="User Name" class="input">
                    </div>
                </div>
                <div class="form-cont">
                    <label for="email" class="label">Email:</label>
                    <div class="cont">
                        <i><img src="image/email.png" alt=""></i>
                        <input type="email" name="email" placeholder="Email" class="input">
                    </div>
                </div>
                <div class="form-cont">
                    <label for="password" class="label">Password:</label>
                    <div class="cont">
                        <i><img src="image/password.png" alt=""></i>
                        <input type="password" name="password" placeholder="Password" class="password1 input">
                        <p class="count1 count-character"></p>
                        <button class="visiblility1 eye-button"><img src="image/visible.png" alt=""></button>
                    </div>
                </div>
                <div class="form-cont">
                    <label for="confirmpassword" class="label">Confirm Password:</label>
                    <div class="cont">
                        <i><img src="image/confirm.png" alt=""></i>
                        <input type="password" name="password_confirmation" class="input password2" placeholder="Confirm Password">
                        <p class="count2 count-character"></p>
                        <button class="visiblility2 eye-button"><img src="image/visible.png" alt=""></button>
                    </div>
                </div>
                <div class="form-cont">
                    <label for="profile" class="label">Profile Picture:</label>
                    <div class="cont">
                        <i><img src="image/image.png" alt=""></i>
                        <input type="file" name="profile" class="input">
                    </div>
                </div>
                <div class="form-cont">
                    <a href="login.html">i have account!</a>
                </div>
                <div class="form-cont">
                    <div class="button">
                        <input type="reset" name="reset" value="Reset">
                    </div>
                    <div class="button">
                        <input type="submit" name="signup" value="Sign Up">
                    </div>
                </div>
            </form>
        </fieldset>
    </div>
    <script>
        var manipulate = function(length, mainelement, elemnt) {
                if (length == 0) {
                    elemnt.textContent = "";
                    mainelement.style.border = "1px solid red";
                } else if (length < 6) {
                    elemnt.textContent = "*week!";
                    elemnt.style.color = "red";
                    mainelement.style.border = "1px solid red";
                } else if (length < 12) {
                    elemnt.textContent = "*medium!";
                    elemnt.style.color = "rgb(211, 132, 41)";
                    mainelement.style.border = "1px solid rgb(211, 132, 41)";
                } else if (length < 20) {
                    elemnt.textContent = "*strong!";
                    elemnt.style.color = "green";
                    mainelement.style.border = "1px solid green";
                } else {
                    elemnt.textContent = "*enough!";
                    elemnt.style.color = "gray";
                    mainelement.style.border = "1px solid transparent";
                }
            }
            // this will toogle the input fild type
        var toogle = function(input) {
            var status = 0;
            var type = input.getAttribute("type") === "password" ? "text" : "password";
            if (type == "text") {
                status = 1
            }
            input.setAttribute("type", type);
            return status;
        }

        // this will prevent submission of the form to server
        var form = document.querySelector("form");
        form.addEventListener("submit", function(e) {
            if (e.submitter.classList.contains("eye-button")) {
                e.preventDefault();
            }
        });

        // this will listen the visibility button  for the first password
        var button = document.querySelector(".visiblility1");
        button.addEventListener("click", function() {
            var input = document.querySelector(".password1");
            var status = toogle(input);
            if (status == 1) {
                button.innerHTML = "<img src='image/prevent.png' alt=''>";
            } else {
                button.innerHTML = "<img src='image/visible.png' alt=''>";
            }
        });

        // this will listen the input fild for the second fild
        var button2 = document.querySelector('.visiblility2');
        button2.addEventListener("click", function() {
            var input = document.querySelector(".password2");
            var status = toogle(input);
            if (status == 1) {
                button2.innerHTML = "<img src='image/prevent.png' alt=''>";
            } else {
                button2.innerHTML = "<img src='image/visible.png' alt=''>";
            }
        });


        var input1 = document.querySelector(".password1");
        input1.addEventListener("input", function(e) {
            var length = this.value.length;
            var elemnt = document.querySelector(".count1");
            manipulate(length, input1, elemnt);
        });
        var input2 = document.querySelector(".password2");
        input2.addEventListener("input", function(e) {
            var length = this.value.length;
            var elemnt = document.querySelector(".count2");
            manipulate(length, input2, elemnt);
            elemnt.textContent = "";
        });
    </script>
</body>

</html>